<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ã€ç¿»è¯‘ã€‘Groovyç¼–ç¨‹é£æ ¼æŒ‡å— - Z.H.</title><meta name="description" content="Groovyæ˜¯ä¸€é—¨åŸºäºJVMçš„è¯­è¨€ï¼Œå ªç§°åŠ¨æ€è¯­è¨€ç‰ˆJavaï¼Œå…¶å„ç§åŠ¨æ€è¯­è¨€ç‰¹æ€§å¡«è¡¥äº†Javaçš„å„ç§ç©ºç¼ºï¼Œè®©äººæ‹æ¡ˆå«ç»â€¦â€¦æœ‰å¹¸æ¥è§¦Groovyï¼Œé‚æ‰‹åŠ¨ç¿»è¯‘ä¸‰ç¯‡å®˜æ–¹æ–‡æ¡£ï¼Œä»¥ä¾¿äºè¯»è€…ä»Javaåˆ°Groovyçš„å¿«é€Ÿè¿ç§»ã€‚ ä¸€ä¸ªè¸ä¸Šäº†Groovyå†’é™©ä¹‹æ—…çš„Javaå¼€å‘è€…ï¼Œä¼šå…ˆåŸºäºçƒ‚ç†Ÿäºå¿ƒçš„Javaï¼Œç„¶åå†é€æ­¥çš„å­¦ä¹ Groovyï¼Œä¸€æ¬¡ä¸€ä¸ªç‰¹æ€§çš„ï¼Œæœ€åå°†èƒ½å¤Ÿæœ‰æ•ˆã€ä¹ æƒ¯çš„ä½¿ç”¨Groovyç¼–å†™ä»£ç ã€‚ è¿™ä¸ªæ–‡æ¡£æ—¨åœ¨ç»™åœ¨è¿™æ¡è·¯ä¸Šçš„å¼€å‘è€…ä¸€ä¸ªæŒ‡å¯¼ï¼Œä¼ æˆä¸€äº›å¸¸ç”¨çš„Groovyè¯­æ³•æ ¼å¼ã€æ–°çš„æ“ä½œå’Œæ–°çš„ç‰¹æ€§ï¼Œè­¬å¦‚é—­åŒ…ç­‰ã€‚è¿™ä¸ªæŒ‡å¯¼æ–‡æ¡£ä¸æ˜¯å®Œå–„çš„ï¼Œä»…ä»…ä½œä¸ºä¸€ä¸ªè¿›é˜¶çš„å¿«é€Ÿä»‹ç»å’ŒåŸºç¡€æŒ‡å—ï¼Œä½ å¯ä»¥å¯¹æ–‡æ¡£è¿›è¡Œè´¡çŒ®å’Œæ”¹è¿›ã€‚ å½“ä½ æ˜¯C / C++&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id=6694651183"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', '6694651183' );
				  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NRGQEGZN7K"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NRGQEGZN7K');</script><link rel="canonical" href="https://jobslee0.github.io/fan-yi-groovybian-cheng-feng-ge-zhi-nan.html"><link rel="alternate" type="application/atom+xml" href="https://jobslee0.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://jobslee0.github.io/feed.json"><meta property="og:title" content="ã€ç¿»è¯‘ã€‘Groovyç¼–ç¨‹é£æ ¼æŒ‡å—"><meta property="og:site_name" content="Z.H."><meta property="og:description" content="Groovyæ˜¯ä¸€é—¨åŸºäºJVMçš„è¯­è¨€ï¼Œå ªç§°åŠ¨æ€è¯­è¨€ç‰ˆJavaï¼Œå…¶å„ç§åŠ¨æ€è¯­è¨€ç‰¹æ€§å¡«è¡¥äº†Javaçš„å„ç§ç©ºç¼ºï¼Œè®©äººæ‹æ¡ˆå«ç»â€¦â€¦æœ‰å¹¸æ¥è§¦Groovyï¼Œé‚æ‰‹åŠ¨ç¿»è¯‘ä¸‰ç¯‡å®˜æ–¹æ–‡æ¡£ï¼Œä»¥ä¾¿äºè¯»è€…ä»Javaåˆ°Groovyçš„å¿«é€Ÿè¿ç§»ã€‚ ä¸€ä¸ªè¸ä¸Šäº†Groovyå†’é™©ä¹‹æ—…çš„Javaå¼€å‘è€…ï¼Œä¼šå…ˆåŸºäºçƒ‚ç†Ÿäºå¿ƒçš„Javaï¼Œç„¶åå†é€æ­¥çš„å­¦ä¹ Groovyï¼Œä¸€æ¬¡ä¸€ä¸ªç‰¹æ€§çš„ï¼Œæœ€åå°†èƒ½å¤Ÿæœ‰æ•ˆã€ä¹ æƒ¯çš„ä½¿ç”¨Groovyç¼–å†™ä»£ç ã€‚ è¿™ä¸ªæ–‡æ¡£æ—¨åœ¨ç»™åœ¨è¿™æ¡è·¯ä¸Šçš„å¼€å‘è€…ä¸€ä¸ªæŒ‡å¯¼ï¼Œä¼ æˆä¸€äº›å¸¸ç”¨çš„Groovyè¯­æ³•æ ¼å¼ã€æ–°çš„æ“ä½œå’Œæ–°çš„ç‰¹æ€§ï¼Œè­¬å¦‚é—­åŒ…ç­‰ã€‚è¿™ä¸ªæŒ‡å¯¼æ–‡æ¡£ä¸æ˜¯å®Œå–„çš„ï¼Œä»…ä»…ä½œä¸ºä¸€ä¸ªè¿›é˜¶çš„å¿«é€Ÿä»‹ç»å’ŒåŸºç¡€æŒ‡å—ï¼Œä½ å¯ä»¥å¯¹æ–‡æ¡£è¿›è¡Œè´¡çŒ®å’Œæ”¹è¿›ã€‚ å½“ä½ æ˜¯C / C++&hellip;"><meta property="og:url" content="https://jobslee0.github.io/fan-yi-groovybian-cheng-feng-ge-zhi-nan.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://jobslee0.github.io/media/website/photo2pixel_download-2.png" type="image/x-icon"><link rel="preload" href="https://jobslee0.github.io/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://jobslee0.github.io/assets/dynamic/fonts/jetbrainsmono/jetbrainsmono-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://jobslee0.github.io/assets/css/style.css?v=82007ae11cb9f2a56571c770331b13e7"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://jobslee0.github.io/fan-yi-groovybian-cheng-feng-ge-zhi-nan.html"},"headline":"ã€ç¿»è¯‘ã€‘Groovyç¼–ç¨‹é£æ ¼æŒ‡å—","datePublished":"2023-01-09T15:45","dateModified":"2024-09-27T20:51","description":"Groovyæ˜¯ä¸€é—¨åŸºäºJVMçš„è¯­è¨€ï¼Œå ªç§°åŠ¨æ€è¯­è¨€ç‰ˆJavaï¼Œå…¶å„ç§åŠ¨æ€è¯­è¨€ç‰¹æ€§å¡«è¡¥äº†Javaçš„å„ç§ç©ºç¼ºï¼Œè®©äººæ‹æ¡ˆå«ç»â€¦â€¦æœ‰å¹¸æ¥è§¦Groovyï¼Œé‚æ‰‹åŠ¨ç¿»è¯‘ä¸‰ç¯‡å®˜æ–¹æ–‡æ¡£ï¼Œä»¥ä¾¿äºè¯»è€…ä»Javaåˆ°Groovyçš„å¿«é€Ÿè¿ç§»ã€‚ ä¸€ä¸ªè¸ä¸Šäº†Groovyå†’é™©ä¹‹æ—…çš„Javaå¼€å‘è€…ï¼Œä¼šå…ˆåŸºäºçƒ‚ç†Ÿäºå¿ƒçš„Javaï¼Œç„¶åå†é€æ­¥çš„å­¦ä¹ Groovyï¼Œä¸€æ¬¡ä¸€ä¸ªç‰¹æ€§çš„ï¼Œæœ€åå°†èƒ½å¤Ÿæœ‰æ•ˆã€ä¹ æƒ¯çš„ä½¿ç”¨Groovyç¼–å†™ä»£ç ã€‚ è¿™ä¸ªæ–‡æ¡£æ—¨åœ¨ç»™åœ¨è¿™æ¡è·¯ä¸Šçš„å¼€å‘è€…ä¸€ä¸ªæŒ‡å¯¼ï¼Œä¼ æˆä¸€äº›å¸¸ç”¨çš„Groovyè¯­æ³•æ ¼å¼ã€æ–°çš„æ“ä½œå’Œæ–°çš„ç‰¹æ€§ï¼Œè­¬å¦‚é—­åŒ…ç­‰ã€‚è¿™ä¸ªæŒ‡å¯¼æ–‡æ¡£ä¸æ˜¯å®Œå–„çš„ï¼Œä»…ä»…ä½œä¸ºä¸€ä¸ªè¿›é˜¶çš„å¿«é€Ÿä»‹ç»å’ŒåŸºç¡€æŒ‡å—ï¼Œä½ å¯ä»¥å¯¹æ–‡æ¡£è¿›è¡Œè´¡çŒ®å’Œæ”¹è¿›ã€‚ å½“ä½ æ˜¯C / C++&hellip;","author":{"@type":"Person","name":"Jobs.Lee","url":"https://jobslee0.github.io/authors/jobslee/"},"publisher":{"@type":"Organization","name":"Jobs.Lee"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container container--center"><header class="header"><div class="header__logo"><a class="logo" href="https://jobslee0.github.io/">Z.H.</a></div></header><main class="content"><article class="post"><header><h1 class="post__title">ã€ç¿»è¯‘ã€‘Groovyç¼–ç¨‹é£æ ¼æŒ‡å—</h1><div class="post__meta"><time datetime="2023-01-09T15:45" class="post__date">ä¸€æœˆ 9, 2023 </time><span class="post__author"><a href="https://jobslee0.github.io/authors/jobslee/" class="feed__author">Jobs.Lee</a></span></div><div class="post__tags"><a href="https://jobslee0.github.io/tags/groovy/" class="invert">Groovy</a> <a href="https://jobslee0.github.io/tags/java/" class="invert">Java</a> <a href="https://jobslee0.github.io/tags/fan-yi/" class="invert">ç¿»è¯‘</a></div></header><div class="post__entry"><p>Groovyæ˜¯ä¸€é—¨åŸºäºJVMçš„è¯­è¨€ï¼Œå ªç§°åŠ¨æ€è¯­è¨€ç‰ˆJavaï¼Œå…¶å„ç§åŠ¨æ€è¯­è¨€ç‰¹æ€§å¡«è¡¥äº†Javaçš„å„ç§ç©ºç¼ºï¼Œè®©äººæ‹æ¡ˆå«ç»â€¦â€¦æœ‰å¹¸æ¥è§¦Groovyï¼Œé‚æ‰‹åŠ¨ç¿»è¯‘ä¸‰ç¯‡å®˜æ–¹æ–‡æ¡£ï¼Œä»¥ä¾¿äºè¯»è€…ä»Javaåˆ°Groovyçš„å¿«é€Ÿè¿ç§»ã€‚</p><hr><p>ä¸€ä¸ªè¸ä¸Šäº†Groovyå†’é™©ä¹‹æ—…çš„Javaå¼€å‘è€…ï¼Œä¼šå…ˆåŸºäºçƒ‚ç†Ÿäºå¿ƒçš„Javaï¼Œç„¶åå†é€æ­¥çš„å­¦ä¹ Groovyï¼Œä¸€æ¬¡ä¸€ä¸ªç‰¹æ€§çš„ï¼Œæœ€åå°†èƒ½å¤Ÿæœ‰æ•ˆã€ä¹ æƒ¯çš„ä½¿ç”¨Groovyç¼–å†™ä»£ç ã€‚ è¿™ä¸ªæ–‡æ¡£æ—¨åœ¨ç»™åœ¨è¿™æ¡è·¯ä¸Šçš„å¼€å‘è€…ä¸€ä¸ªæŒ‡å¯¼ï¼Œä¼ æˆä¸€äº›å¸¸ç”¨çš„Groovyè¯­æ³•æ ¼å¼ã€æ–°çš„æ“ä½œå’Œæ–°çš„ç‰¹æ€§ï¼Œè­¬å¦‚é—­åŒ…ç­‰ã€‚è¿™ä¸ªæŒ‡å¯¼æ–‡æ¡£ä¸æ˜¯å®Œå–„çš„ï¼Œä»…ä»…ä½œä¸ºä¸€ä¸ªè¿›é˜¶çš„å¿«é€Ÿä»‹ç»å’ŒåŸºç¡€æŒ‡å—ï¼Œä½ å¯ä»¥å¯¹æ–‡æ¡£è¿›è¡Œè´¡çŒ®å’Œæ”¹è¿›ã€‚</p><h2 id="1-æ— åˆ†å·">1. æ— åˆ†å·</h2><p>å½“ä½ æ˜¯C / C++ / C# / JavaèƒŒæ™¯çš„ç¨‹åºå‘˜æ—¶ï¼Œå·²ç»ä¹ æƒ¯äº†å¤„å¤„ä½¿ç”¨åˆ†å·ã€‚ç³Ÿç³•çš„æ˜¯ï¼ŒGroovyæ”¯æŒäº†99%çš„Javaè¯­æ³•ï¼Œæœ‰æ—¶å€™å¤åˆ¶Javaä»£ç åˆ°Groovyç¨‹åºæ˜¯ååˆ†å®¹æ˜“çš„ï¼Œè¿™æ ·å°±å¯¼è‡´äº†åˆ†å·å¤§é‡çš„å‡ºç°ã€‚å¯æ˜¯ï¼Œåˆ†å·åœ¨Groovyé‡Œæ˜¯å¯é€‰çš„ï¼Œä½ å¯ä»¥å¿½ç•¥å®ƒä»¬ï¼Œç”šè‡³äºä¹ æƒ¯ç§»é™¤å®ƒä»¬ã€‚</p><h2 id="2-å¯é€‰çš„returnå…³é”®å­—">2. å¯é€‰çš„Returnå…³é”®å­—</h2><p>åœ¨Groovyä¸­ï¼Œæ–¹æ³•ä½“æœ€åä¸€è¡Œçš„è¡¨è¾¾å¼èƒ½å¤Ÿè¢«è¿”å›è€Œæ— éœ€<code>return</code>å…³é”®å­—ã€‚å°¤å…¶æ˜¯åœ¨é—­åŒ…çš„çŸ­æ–¹æ³•ä¸­ï¼Œå¿½ç•¥å…³é”®å­—ä½¿å®ƒçœ‹èµ·æ¥æ›´ä¼˜é›…ï¼š</p><pre><code class="language-Groovy">String toString() { return &quot;a server&quot; }
String toString() { &quot;a server&quot; }
</code></pre><p>ä½†æ˜¯å½“ä½ ä½¿ç”¨å˜é‡æ—¶ï¼Œå®ƒçœ‹èµ·æ¥ä¸å¤ªå‹å¥½ï¼Œä»¿ä½›åœ¨ä¸¤è¡Œé‡Œå‡ºç°äº†ä¸¤æ¬¡ï¼š</p><pre><code class="language-Groovy">def props() {
    def m1 = [a: 1, b: 2]
    m2 = m1.findAll { k, v -&gt; v % 2 == 0 }
    m2.c = 3
    m2
}
</code></pre><p>é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œè¦ä¹ˆåœ¨æœ€åä¸€ä¸ªè¡¨è¾¾å¼å‰æ¢è¡Œï¼Œè¦ä¹ˆä½¿ç”¨<code>return</code>å…³é”®å­—æ¥æå‡å¯è¯»æ€§ã€‚</p><p>æˆ‘è‡ªå·±æœ‰æ—¶å€™ç”¨<code>return</code>å…³é”®å­—ï¼Œæœ‰æ—¶å€™ä¸ç”¨ï¼Œè¿™æ˜¯ä¸ªäººå–œå¥½é—®é¢˜ã€‚ä½†æ˜¯ä¸¾ä¾‹æ¥è®²ï¼Œåœ¨é—­åŒ…å†…éƒ¨ï¼Œæˆ‘é€šå¸¸ä¼šæ›´å¤šçš„å¿½ç•¥å®ƒã€‚æ‰€ä»¥å³ä½¿è¿™ä¸ªå…³é”®è¯æ˜¯å¯é€‰çš„ï¼Œä¹Ÿå¹¶ä¸æ„å‘³ç€åœ¨å®ƒé˜»ç¢äº†ä»£ç å¯è¯»æ€§æ—¶ï¼Œè¿˜è¦å¼ºåˆ¶å»æ‰å®ƒã€‚</p><p>è¯·æ³¨æ„ï¼Œå½“ä½¿ç”¨<code>def</code>å…³é”®å­—å–ä»£æŒ‡å®šå…·ä½“çš„ç±»å‹å»å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œä½ å¯èƒ½æƒŠè®¶çš„å‘ç°æœ€åä¸€ä¸ªè¡¨è¾¾å¼ä¼šè¢«è¿”å›ã€‚æ‰€ä»¥é€šå¸¸æ›´å€¾å‘äºä½¿ç”¨ä¸€ä¸ªç‰¹åˆ«æŒ‡å®šè¿”å›å€¼ç±»å‹è­¬å¦‚voidæˆ–è€…å…¶ä»–ç±»å‹ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå‡è®¾æˆ‘ä»¬å¿˜è®°äº†é€šè¿‡æœ€åä¸€ä¸ªè¡¨è¾¾å¼å»è¿”å›m2ï¼Œå¯¼è‡´æœ€åçš„è¡¨è¾¾å¼å˜æˆäº†<code>m2.c = 3</code>ï¼Œæœ€åä¼šè¿”å›<code>3</code>ï¼Œè€Œä¸æ˜¯ä½ æ‰€æœŸæœ›çš„å€¼ã€‚</p><p><code>if</code> / <code>else</code> , <code>try</code> / <code>catch</code> è¿™äº›å£°æ˜åŒæ ·å¯ä»¥è¿”å›ä¸€ä¸ªå€¼ï¼Œå› ä¸ºè¿™é‡Œæœ‰â€œæœ€åä¸€ä¸ªè¡¨è¾¾å¼â€åœ¨è¿™äº›å£°æ˜ä¸­ï¼š</p><pre><code class="language-Groovy">def foo(n) {
    if(n == 1) {
        &quot;Roshan&quot;
    } else {
        &quot;Dawrani&quot;
    }
}assert foo(1) == &quot;Roshan&quot;
assert foo(2) == &quot;Dawrani&quot;
</code></pre><h2 id="3-defå’Œç±»å‹">3. Defå’Œç±»å‹</h2><p>å½“æˆ‘ä»¬è®¨è®º<code>def</code>å’Œç±»å‹ï¼Œæˆ‘ç»å¸¸çœ‹åˆ°å¼€å‘è€…åŒæ—¶ä½¿ç”¨<code>def</code>å’Œç±»å‹ã€‚å…¶å®<code>def</code>åœ¨è¿™é‡Œæ˜¯å¤šä½™çš„ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹<code>def</code>å’Œç±»å‹è¿›è¡ŒäºŒé€‰ä¸€ã€‚</p><p>ä¸è¦è¿™æ ·å†™ï¼š</p><pre><code class="language-Groovy">def String name = &quot;Guillaume&quot;
</code></pre><p>è€Œæ˜¯è¿™æ ·ï¼š</p><pre><code class="language-Groovy">String name = &quot;Guillaume&quot;
</code></pre><p>å½“åœ¨Groovyä¸­ä½¿ç”¨<code>def</code>ï¼Œå¯¹è±¡å®é™…çš„ç±»å‹æ˜¯<code>Object</code>ï¼ˆæ‰€ä»¥ä½¿ç”¨<code>def</code>å®šä¹‰çš„å˜é‡å¯ä»¥åˆ†é…ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼ŒåŒæ—¶å¦‚æœä¸€ä¸ªæ–¹æ³•å£°æ˜è¿”å›<code>def</code>åˆ™å¯ä»¥è¿”å›ä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼‰ã€‚</p><p>å½“ä½¿ç”¨æ— ç±»å‹å‚æ•°å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>def</code>å…³é”®å­—ï¼Œä½†æ˜¯ä¸æ˜¯å¿…é¡»çš„ï¼Œæˆ‘ä»¬æ›´å€¾å‘äºå¿½ç•¥å®ƒã€‚ä»¥ä¸‹æ–¹æ³•å¯ä»¥è¢«æ›¿ä»£ï¼š</p><pre><code class="language-Groovy">void doSomething(def param1, def param2) { }
</code></pre><p>æ›´å»ºè®®ï¼š</p><pre><code class="language-Groovy">void doSomething(param1, param2) { }
</code></pre><p>ä½†æ˜¯å°±åƒä¸Šéƒ¨åˆ†æ–‡æ¡£æåˆ°çš„ï¼Œé€šå¸¸ä¸ºäº†å¸®åŠ©è§„èŒƒåŒ–ä½ çš„ä»£ç ï¼Œä¸ºäº†å¸®åŠ©IDEè¿›è¡Œä»£ç æç¤ºï¼Œæˆ–è€…ä¸ºäº†åˆ©ç”¨Groovyçš„é™æ€ç±»å‹æ£€æŸ¥å’Œé™æ€ç±»å‹ç¼–è¯‘ï¼ŒæŒ‡å®šæ–¹æ³•å‚æ•°ç±»å‹æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p><p>å¦å¤–ä¸€ç‚¹ï¼Œå®šä¹‰æ„é€ å‡½æ•°æ—¶åº”è¯¥é¿å…ä½¿ç”¨<code>def</code>ï¼š</p><pre><code class="language-Groovy">class MyClass {
    def MyClass() {}
}
</code></pre><p>å–è€Œä»£ä¹‹ï¼Œåº”è¯¥ç§»é™¤<code>def</code>ï¼š</p><pre><code class="language-Groovy">class MyClass {
    MyClass() {}
}
</code></pre><h2 id="4-é»˜è®¤çš„public">4. é»˜è®¤çš„Public</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒGroovyè®¤ä¸ºç±»å’Œæ–¹æ³•éƒ½æ˜¯<code>public</code>çš„ã€‚æ‰€ä»¥ä½ ä¸éœ€è¦åˆ°å¤„é‡å¤ä½¿ç”¨<code>public</code>ä¿®é¥°ç¬¦ã€‚åªæœ‰å½“ä¸æ˜¯publicæ—¶ï¼Œä½ éœ€è¦æŒ‡å®šå¯è§æ€§ä¿®é¥°ç¬¦ã€‚</p><p>å¯ä»¥å–ä»£ä»¥ä¸‹ä»£ç ï¼š</p><pre><code class="language-Groovy">public class Server {
    public String toString() { return &quot;a server&quot; }
}
</code></pre><p>æ›´ç®€æ´çš„è¡¨è¾¾ï¼š</p><pre><code class="language-Groovy">class Server {
    String toString() { &quot;a server&quot; }
}
</code></pre><p>ä½ å¯èƒ½æƒ³çŸ¥é“åŒ…èŒƒå›´çš„å¯è§æ€§ï¼Œäº‹å®ä¸Šï¼ŒGroovyå…è®¸å¿½ç•¥â€™publicâ€™æ„å‘³ç€è¿™ä¸ªèŒƒå›´é»˜è®¤æƒ…å†µä¸‹ä¸å†è¢«æ”¯æŒï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç‰¹æ®Šçš„Groovyæ³¨è§£å…è®¸ä½ ä½¿ç”¨è¿™ä¸ªå¯è§æ€§ä¿®é¥°ç¬¦ï¼š</p><pre><code class="language-Groovy">class Server {
    @PackageScope Cluster cluster
}
</code></pre><h2 id="5-å¯å¿½ç•¥çš„æ‹¬å·">5. å¯å¿½ç•¥çš„æ‹¬å·</h2><p>Groovyå…è®¸ä½ å¿½ç•¥é¡¶çº§è¡¨è¾¾å¼ä¸­çš„æ‹¬å·ï¼Œè­¬å¦‚<code>println</code>æŒ‡ä»¤ï¼š</p><pre><code class="language-Groovy">println &quot;Hello&quot;
method a, b
</code></pre><p>å¯¹ç…§ï¼š</p><pre><code class="language-Groovy">println(&quot;Hello&quot;)
method(a, b)
</code></pre><p>å½“ä¸€ä¸ªé—­åŒ…æ˜¯ä¸€ä¸ªæ–¹æ³•è°ƒç”¨çš„æœ€åä¸€ä¸ªå‚æ•°æ—¶ï¼Œå°±åƒä½¿ç”¨Groovyçš„<code>each{}</code>è¿­ä»£å™¨ä¸€æ ·ï¼Œä½ å¯ä»¥æŠŠé—­åŒ…æ”¾åœ¨é—­åˆçš„æ‹¬å·å†…ï¼Œç”šè‡³ä¹Ÿå¯ä»¥å¿½ç•¥æ‹¬å·ï¼š</p><pre><code class="language-Groovy">list.each( { println it } )
list.each(){ println it }
list.each  { println it }
</code></pre><p>ç¬¬ä¸‰ç§æ–¹å¼æ˜¯ä¸€ç›´æ¨å´‡çš„ï¼Œæ›´è‡ªç„¶ï¼Œä¸€å¯¹ç©ºæ‹¬å·å°±åƒæ˜¯è¯­å¥ä¸­æ— ç”¨çš„åºŸè¯ã€‚</p><p>åœ¨æŸäº›æƒ…å†µä¸‹æ‹¬å·æ˜¯å¿…é¡»çš„ï¼Œä¾‹å¦‚åœ¨è¿›è¡ŒåµŒå¥—æ–¹æ³•è°ƒç”¨æˆ–è°ƒç”¨ä¸å¸¦å‚æ•°çš„æ–¹æ³•æ—¶ã€‚</p><pre><code class="language-Groovy">def foo(n) { n }
def bar() { 1 }

println foo 1 // won&#39;t work
def m = bar   // won&#39;t work
</code></pre><h2 id="6-classesæ˜¯ä¸€ç­‰å…¬æ°‘">6. Classesæ˜¯ä¸€ç­‰å…¬æ°‘</h2><p>åœ¨Groovyä¸­<code>.class</code>åç¼€ä¸æ˜¯å¿…é¡»çš„ï¼Œæœ‰ç‚¹åƒJavaçš„<code>instanceof</code>ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code class="language-Groovy">connection.doPost(BASE_URI + &quot;/modify.hqu&quot;, params, ResourcesResponse.class)
</code></pre><p>ä½¿ç”¨GStringsçš„ä¾‹å­ï¼Œå¹¶ä½¿ç”¨ä¸€ç­‰å…¬æ°‘çš„æ–¹å¼æ›¿ä»£ä¸Šé¢çš„å†™æ³•ï¼š</p><pre><code class="language-Groovy">connection.doPost(&quot;${BASE_URI}/modify.hqu&quot;, params, ResourcesResponse)
</code></pre><h2 id="7-getterså’Œsettersæ–¹æ³•">7. Getterså’ŒSettersæ–¹æ³•</h2><p>åœ¨Groovyä¸­ï¼Œgetterå’Œsetterå½¢æˆäº†æˆ‘ä»¬æ‰€è¯´çš„â€œå±æ€§â€ï¼Œå¹¶æä¾›è®¿é—®å’Œè®¾ç½®æ­¤ç±»å±æ€§çš„å¿«æ·æ–¹æ³•ã€‚å› æ­¤æ›¿ä»£Javaçš„è°ƒç”¨æ–¹å¼ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼çš„å­—æ®µè·å–æ–¹æ³•ï¼š</p><pre><code class="language-Groovy">resourceGroup.getResourcePrototype().getName() == SERVER_TYPE_NAME
resourceGroup.resourcePrototype.name == SERVER_TYPE_NAME

resourcePrototype.setName(&quot;something&quot;)
resourcePrototype.name = &quot;something&quot;
</code></pre><p>å½“ä½ åœ¨Groovyä¸­å†™ä½ çš„beansï¼ˆç»å¸¸è¢«å«åšPOGO (Plain Old Groovy Object)ï¼‰æ—¶ï¼Œä½ ä¸å¿…å†è‡ªè¡Œåˆ›å»ºå­—æ®µçš„getter/setterçš„æ–¹æ³•ï¼Œè¿™äº›å°†ç”±Groovyç¼–è¯‘å™¨æ¥å¸®ä½ åšã€‚</p><p>å¯ä»¥æ›¿ä»£è¿™äº›ï¼š</p><pre><code class="language-Groovy">class Person {
    private String name
    String getName() { return name }
    void setName(String name) { this.name = name }
}
</code></pre><p>ç®€åŒ–ä¸ºï¼š</p><pre><code class="language-Groovy">class Person {
    String name
}
</code></pre><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œä¸€ä¸ªæ²¡æœ‰å¯è§ä¿®é¥°ç¬¦çš„å­—æ®µå®é™…ä¸Šä¼šç”±Groovyç¼–è¯‘å™¨å»ç”Ÿæˆä¸€ä¸ªç§æœ‰çš„å­—æ®µä»¥åŠgetter/setteræ–¹æ³•ã€‚</p><p>åœ¨Javaä¸­ä½¿ç”¨æ­¤ç±»POGOæ—¶ï¼Œgetterå’Œsetteræ–¹æ³•å®é™…å­˜åœ¨ï¼Œå¯ä»¥ç…§å¸¸ä½¿ç”¨ã€‚</p><p>å°½ç®¡ç¼–è¯‘å™¨åˆ›å»ºäº†é€šå¸¸çš„getter/setteré€»è¾‘ï¼Œä½†å¦‚æœä½ å¸Œæœ›åœ¨è¿™äº›getter/setterä¸­åšä»»ä½•é¢å¤–æˆ–ä¸åŒçš„äº‹æƒ…ï¼Œä½ ä»ç„¶å¯ä»¥è‡ªç”±åœ°æä¾›å®ƒä»¬ï¼Œç¼–è¯‘å™¨å°†ä½¿ç”¨ä½ çš„é€»è¾‘ï¼Œè€Œä¸æ˜¯é»˜è®¤ç”Ÿæˆçš„é€»è¾‘ã€‚</p><h2 id="8-ä½¿ç”¨å‘½åå‚æ•°å’Œé»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ–-bean">8. ä½¿ç”¨å‘½åå‚æ•°å’Œé»˜è®¤æ„é€ å‡½æ•°åˆå§‹åŒ– bean</h2><p>ä¸¾ä¸€ä¸ªbeançš„ä¾‹å­ï¼š</p><pre><code class="language-Groovy">class Server {
    String name
    Cluster cluster
}
</code></pre><p>è€Œä¸æ˜¯åœ¨åç»­è¯­å¥ä¸­è®¾ç½®æ¯ä¸ª setterï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre><code class="language-Groovy">def server = new Server()
server.name = &quot;Obelix&quot;
server.cluster = aCluster
</code></pre><p>ä½ å¯ä»¥å°†å‘½åå‚æ•°ä¸é»˜è®¤æ„é€ å‡½æ•°ä¸€èµ·ä½¿ç”¨ï¼ˆé¦–å…ˆè°ƒç”¨æ„é€ å‡½æ•°ï¼Œç„¶åæŒ‰ç…§åœ¨æ˜ å°„ä¸­æŒ‡å®šçš„é¡ºåºè°ƒç”¨è®¾ç½®ï¼‰ï¼š</p><pre><code class="language-Groovy">def server = new Server(name: &quot;Obelix&quot;, cluster: aCluster)
</code></pre><h2 id="9-ä½¿ç”¨-with-å’Œ-tap-å¯¹åŒä¸€ä¸ª-bean-è¿›è¡Œé‡å¤æ“ä½œ">9. ä½¿ç”¨ with() å’Œ tap() å¯¹åŒä¸€ä¸ª bean è¿›è¡Œé‡å¤æ“ä½œ</h2><p>å½“ä½ åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä¾‹çš„æ—¶å€™ï¼Œä½¿ç”¨åç§°-å‚æ•°çš„é»˜è®¤æ„é€ æ–¹æ³•æ˜¯æœ‰è¶£çš„ï¼Œä½†æ˜¯å¦‚æœä½ åœ¨æ›´æ–°ä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œä½ æ˜¯å¦ä¸å¾—ä¸é‡å¤â€™serverâ€™å‰ç¼€ï¼Ÿä¸ï¼Œæ„Ÿè°¢Groovyä¸ºæ‰€æœ‰ç±»å‹å¯¹è±¡æä¾›çš„<code>with()</code>å’Œ<code>tap()</code>æ–¹æ³•ï¼š</p><pre><code class="language-Groovy">server.name = application.name
server.status = status
server.sessionCount = 3
server.start()
server.stop()
</code></pre><p>å¯¹æ¯”ï¼š</p><pre><code class="language-Groovy">server.with {
    name = application.name
    status = status
    sessionCount = 3
    start()
    stop()
}
</code></pre><p>ä¸ Groovy ä¸­çš„ä»»ä½•é—­åŒ…ä¸€æ ·ï¼Œæœ€åä¸€æ¡è¯­å¥è¢«è§†ä¸ºè¿”å›å€¼ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè¿”å›çš„ç»“æœæ˜¯<code>stop()</code>ã€‚æƒ³è¦ä½¿ç”¨è¿™ç§æ–¹å¼æ„å»ºåªè¿”å›ä¼ å…¥çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨<code>tap()</code>æ–¹æ³•ï¼š</p><pre><code class="language-Groovy">def person = new Person().with {
    name = &quot;Ada Lovelace&quot;
    it // Note the explicit mention of it as the return value
}
</code></pre><p>å¯¹æ¯”ï¼š</p><pre><code class="language-Groovy">def person = new Person().tap {
    name = &quot;Ada Lovelace&quot;
}
</code></pre><p>æ³¨æ„ï¼šä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>with(true)</code> ä»£æ›¿ <code>tap()</code> å’Œ <code>with(false)</code> ä»£æ›¿ <code>with()</code> ã€‚</p><h2 id="10-equalså’Œ">10. Equalså’Œ<code>==</code></h2><p>Javaçš„<code>==</code>å®é™…ä¸Šç­‰åŒäºGroovyçš„<code>is()</code>æ–¹æ³•ï¼ŒGroovyçš„<code>==</code>æ˜¯æ›´æ™ºèƒ½çš„<code>equals()</code>ï¼</p><p>åœ¨æ¯”è¾ƒå¯¹è±¡å¼•ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ä½¿ç”¨<code>a.is(b)</code>å»æ›¿ä»£<code>==</code>ã€‚</p><p>ä½†æ˜¯æ¯”èµ·ä½¿ç”¨<code>equals()</code>æ¯”è¾ƒï¼Œä½ åº”è¯¥æ›´å–œæ¬¢Groovyçš„<code>==</code>ï¼Œå¹¶ä¸”å®ƒå¯¹<code>NullPointerException</code>è¿›è¡Œäº†è§„é¿å¤„ç†ï¼Œä¸ä¸º<code>null</code>å˜é‡åœ¨å·¦è¾¹å’Œåœ¨å³è¾¹æ— å…³ã€‚</p><p>ä¸ºäº†æ›¿ä»£å¦‚ä¸‹ï¼š</p><pre><code class="language-Groovy">status != null &amp;&amp; status.equals(ControlConstants.STATUS_COMPLETED)
</code></pre><p>å¯ä»¥è¿™ä¹ˆåšï¼š</p><pre><code class="language-Groovy">status == ControlConstants.STATUS_COMPLETED
</code></pre><h2 id="11-gstringsï¼ˆæ’å€¼ï¼Œå¤šè¡Œï¼‰">11. GStringsï¼ˆæ’å€¼ï¼Œå¤šè¡Œï¼‰</h2><p>æˆ‘ä»¬åœ¨Javaä¸­ç»å¸¸ä½¿ç”¨å­—ç¬¦ä¸²å’Œå˜é‡è¿æ¥ï¼Œå¯¼è‡´æœ‰è®¸å¤šå¼€é—­çš„åŒå¼•å·ã€åŠ å·ã€ä»¥åŠ<code>\n</code>æ¢è¡Œç¬¦ã€‚é€šè¿‡æ’å€¼å­—ç¬¦ä¸²ï¼ˆå«åšGStringsï¼‰ï¼Œè¿™æ ·çš„å­—ç¬¦ä¸²çœ‹èµ·æ¥æ›´å‹å¥½ï¼Œè¾“å…¥èµ·æ¥ä¹Ÿä¸é‚£ä¹ˆç—›è‹¦ï¼š</p><pre><code class="language-Groovy">throw new Exception(&quot;Unable to convert resource: &quot; + resource)
</code></pre><p>å¯¹æ¯”ï¼š</p><pre><code class="language-Groovy">throw new Exception(&quot;Unable to convert resource: ${resource}&quot;)
</code></pre><p>åœ¨å¤§æ‹¬å·é‡Œé¢ï¼Œä½ å¯ä»¥æ”¾å…¥ä»»ä½•ç±»å‹çš„è¡¨è¾¾å¼ï¼Œè€Œä¸ä»…ä»…æ˜¯å˜é‡ã€‚è­¬å¦‚ï¼Œç®€å•çš„å˜é‡ã€<code>variable.property</code>ï¼Œä½ ç”šè‡³å¯ä»¥å»æ‰å¤§æ‹¬å·ï¼š</p><pre><code class="language-Groovy">throw new Exception(&quot;Unable to convert resource: $resource&quot;)
</code></pre><p>ä½ ç”šè‡³å¯ä»¥é€šè¿‡é—­åŒ…<code>${-&gt; resource }</code>æ¥å»¶è¿Ÿæ‰§è¡Œè¿™äº›è¡¨è¾¾å¼ã€‚å½“GStringè¢«å¼ºåˆ¶è½¬æ¢ä¸ºStringæ—¶ï¼Œå®ƒå°†æ‰§è¡Œé—­åŒ…ç„¶åè°ƒç”¨<code>toString()</code>æ–¹æ³•æ¥è¡¨ç¤ºè¿”å›å€¼ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><pre><code class="language-Groovy">int i = 3def s1 = &quot;i&#39;s value is: ${i}&quot;
def s2 = &quot;i&#39;s value is: ${-&gt; i}&quot;

i++assert s1 == &quot;i&#39;s value is: 3&quot; // eagerly evaluated, takes the value on creation
assert s2 == &quot;i&#39;s value is: 4&quot; // lazily evaluated, takes the new value into account
</code></pre><p>å½“å­—ç¬¦ä¸²åŠå…¶è¿æ¥çš„è¡¨è¾¾å¼åœ¨Javaä¸­å¾ˆé•¿æ—¶ï¼š</p><pre><code class="language-Groovy">throw new PluginException(&quot;Failed to execute command list-applications:&quot; +
    &quot; The group with name &quot; +
    parameterMap.groupname[0] +
    &quot; is not compatible group of type &quot; +
    SERVER_TYPE_NAME)
</code></pre><p>æ‚¨å¯ä»¥ä½¿ç”¨<code>\</code>è¿ç»­å­—ç¬¦ï¼ˆè¿™ä¸æ˜¯å¤šè¡Œå­—ç¬¦ä¸²ï¼‰ï¼š</p><pre><code class="language-Groovy">throw new PluginException(&quot;Failed to execute command list-applications: \
The group with name ${parameterMap.groupname[0]} \
is not compatible group of type ${SERVER_TYPE_NAME}&quot;)
</code></pre><p>æˆ–è€…ä½¿ç”¨å¸¦ä¸‰å¼•å·çš„å¤šè¡Œå­—ç¬¦ä¸²ï¼š</p><pre><code class="language-Groovy">throw new PluginException(&quot;&quot;&quot;Failed to execute command list-applications:
    The group with name ${parameterMap.groupname[0]}
    is not compatible group of type ${SERVER_TYPE_NAME)}&quot;&quot;&quot;)
</code></pre><p>æ‚¨è¿˜å¯ä»¥é€šè¿‡åœ¨è¯¥å­—ç¬¦ä¸²ä¸Šè°ƒç”¨ <code>.stripIndent()</code> æ¥å»é™¤å‡ºç°åœ¨å¤šè¡Œå­—ç¬¦ä¸²å·¦ä¾§çš„ç¼©è¿›ã€‚</p><p>è¿˜è¦æ³¨æ„å•å¼•å·å’ŒåŒå¼•å·åœ¨Groovyä¸­çš„ä¸åŒï¼šå•å¼•å·ä¸€ç›´è¢«æ‹¿æ¥åˆ›å»ºJavaä¸åŒ…å«æ’å€¼çš„å­—ç¬¦ä¸²ï¼Œç„¶è€Œå½“å­˜åœ¨æ’å€¼æ—¶ï¼ŒåŒå¼•å·å°†ä¼šåˆ›å»ºJavaå­—ç¬¦ä¸²æˆ–è€…GStringsã€‚</p><p>å¯¹äºå¤šè¡Œå­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸‰é‡å¼•å·ï¼šå³ GStrings çš„ä¸‰é‡åŒå¼•å·å’Œçº¯å­—ç¬¦ä¸²çš„ä¸‰é‡å•å¼•å·ã€‚</p><p>å¦‚æœä½ éœ€è¦å†™æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨â€œæ–œçº¿â€å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼š</p><pre><code class="language-Groovy">assert &quot;foooo/baaaaar&quot; ==~ /fo+\/ba+r/
</code></pre><p>â€œæ–œçº¿â€è¡¨ç¤ºæ³•çš„ä¼˜ç‚¹æ˜¯æ‚¨ä¸éœ€è¦åŒè½¬ä¹‰åæ–œæ ï¼Œä½¿ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›´ç®€å•ã€‚</p><p>æœ€åï¼Œå½“ä½ éœ€è¦å­—ç¬¦ä¸²å¸¸é‡çš„æ—¶å€™æ›´å»ºè®®ä½¿ç”¨å•å¼•å·ï¼Œå½“ä½ éœ€è¦ä¾èµ–å­—ç¬¦ä¸²æ’å€¼çš„æ—¶å€™è¦ä½¿ç”¨åŒå¼•å·ã€‚</p><h2 id="12-æ•°æ®ç»“æ„çš„åŸç”Ÿè¯­æ³•">12. æ•°æ®ç»“æ„çš„åŸç”Ÿè¯­æ³•</h2><p>Groovyä¸ºlistsã€mapsã€regexæˆ–rangesæä¾›äº†åŸç”Ÿçš„æ•°æ®ç»“æ„è¯­æ³•ã€‚ç¡®ä¿åœ¨ä½ çš„Groovyç¨‹åºä¸­å»ä½¿ç”¨å®ƒã€‚</p><p>è¿™äº›åŸç”Ÿæ•°æ®ç»“æ„çš„ä¾‹å­ï¼š</p><pre><code class="language-Groovy">def list = [1, 4, 6, 9]// by default, keys are Strings, no need to quote them
// you can wrap keys with () like [(variableStateAcronym): stateName] to insert a variable or object as a key.
def map = [CA: &#39;California&#39;, MI: &#39;Michigan&#39;]// ranges can be inclusive and exclusive
def range = 10..20 // inclusive
assert range.size() == 11
// use brackets if you need to call a method on a range definition
assert (10..&lt;20).size() == 10 // exclusivedef pattern = ~/fo*/// equivalent to add()
list &lt;&lt; 5// call contains()
assert 4 in list
assert 5 in list
assert 15 in range

// subscript notation
assert list[1] == 4// add a new key value pair
map &lt;&lt; [WA: &#39;Washington&#39;]
// subscript notation
assert map[&#39;CA&#39;] == &#39;California&#39;
// property notation
assert map.WA == &#39;Washington&#39;// matches() strings against patterns
assert &#39;foo&#39; ==~ pattern
</code></pre><h2 id="13-groovyå¼€å‘å·¥å…·åŒ…">13. Groovyå¼€å‘å·¥å…·åŒ…</h2><p>ç»§ç»­è°ˆè®ºè¿™äº›æ•°æ®ç»“æ„ï¼Œå½“ä½ å»éå†é›†åˆæ—¶ï¼ŒGroovyæä¾›äº†å¾ˆå¤šçš„é™„åŠ æ–¹æ³•æ¥è£…é¥°Javaä»£ç çš„æ•°æ®ç»“æ„ï¼Œè­¬å¦‚<code>each{}</code> , <code>find{}</code> , <code>findAll{}</code> , <code>every{}</code> , <code>collect{}</code> , <code>inject{}</code>ã€‚è¿™äº›æ–¹æ³•ä¸ºç¼–ç¨‹è¯­è¨€æä¾›äº†æ–°çš„åŠŸèƒ½ç‰¹æ€§ï¼Œèƒ½å¤Ÿæ›´ç®€å•çš„æ¥å®ç°å¤æ‚çš„ç®—æ³•ã€‚ç”±äºè¯­è¨€çš„åŠ¨æ€ç‰¹æ€§ï¼Œè®¸å¤šæ–°æ–¹æ³•é€šè¿‡ä¿®é¥°åº”ç”¨äºå„ç§ç±»å‹ã€‚ä½ å¯ä»¥å‘ç°å¾ˆå¤šéå¸¸æœ‰ç”¨çš„æ–¹æ³•åœ¨String, Files, Streams, Collectionsç­‰æ•°æ®ç»“æ„ä¸­ï¼š</p><p><a href="http://groovy-lang.org/gdk.html">http://groovy-lang.org/gdk.html</a></p><h2 id="14-å¼ºå¤§çš„switch">14. å¼ºå¤§çš„switch</h2><p>Groovyçš„<code>switch</code>æ¯”èµ·ç›´æ¥åªå—åŸè¯­å’ŒåŒåŒ–çš„C-ishè¯­è¨€æ›´åŠ å¼ºå¤§ã€‚Groovyçš„<code>switch</code>æ¥æ”¶å‡ ä¹ä»»ä½•ç±»å‹çš„å‚æ•°ã€‚</p><pre><code class="language-Groovy">def x = 1.23
def result = &quot;&quot;
switch (x) {
    case &quot;foo&quot;: result = &quot;found foo&quot;
    // lets fall through
    case &quot;bar&quot;: result += &quot;bar&quot;
    case [4, 5, 6, &#39;inList&#39;]:
        result = &quot;list&quot;
        break
    case 12..30:
        result = &quot;range&quot;
        break
    case Integer:
        result = &quot;integer&quot;
        break
    case Number:
        result = &quot;number&quot;
        break
    case { it &gt; 3 }:
        result = &quot;number &gt; 3&quot;
        break
    default: result = &quot;default&quot;
}
assert result == &quot;number&quot;
</code></pre><p>æ›´è¿›ä¸€æ­¥æ¥è®²ï¼Œå¸¦æœ‰ <code>isCase()</code> æ–¹æ³•çš„ç±»å‹ä¹Ÿå¯ä»¥å†³å®šä¸€ä¸ªå€¼æ˜¯å¦ä¸ä¸€ä¸ªcaseç›¸å¯¹åº”ã€‚</p><h2 id="15-importåˆ«å">15. Importåˆ«å</h2><p>åœ¨Javaä¸­ï¼Œå½“ä½ ä½¿ç”¨ä¸¤ä¸ªä¸åŒåŒ…ä½†åŒåçš„ç±»æ—¶ï¼Œè­¬å¦‚<code>java.util.List</code>å’Œ<code>java.awt.List</code>ï¼Œä½ åªèƒ½å¯¼å…¥ä¸€ä¸ªç±»ï¼Œç„¶åä¸å¾—ä¸é€šè¿‡ä½¿ç”¨å®Œå…¨é™å®šåæ¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªç±»ã€‚</p><p>æœ‰æ—¶å€™åœ¨ä»£ç ä¸­ï¼Œå¤šä¸ªé•¿ç±»åçš„è°ƒç”¨å¯èƒ½æ˜¾å¾—ä»£ç å†—é•¿ä¸”é™ä½äº†ä»£ç çš„æ¸…æ™°åº¦ã€‚</p><p>ä¸ºäº†æ”¹å–„è¿™äº›åœºæ™¯ï¼ŒGroovyæä¾›äº†å¯¼å…¥åˆ«åçš„ç‰¹æ€§ï¼š</p><pre><code class="language-Groovy">import java.util.List as UtilList
import java.awt.List as AwtList
import javax.swing.WindowConstants as WC

UtilList list1 = [WC.EXIT_ON_CLOSE]
assert list1.size() instanceof Integer
def list2 = new AwtList()
assert list2.size() instanceof java.awt.Dimension
</code></pre><p>ä½ ä¹Ÿå¯ä»¥åœ¨å¯¼å…¥é™æ€æ–¹æ³•æ—¶ä½¿ç”¨åˆ«åï¼š</p><pre><code class="language-Groovy">import static java.lang.Math.abs as mabs
assert mabs(-4) == 4
</code></pre><h2 id="16-groovyçš„çœŸå€¼">16. Groovyçš„çœŸå€¼</h2><p>æ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥è¢«å¼ºè½¬ä¸ºbooleanå€¼ï¼šæ‰€æœ‰çš„å¯èƒ½å€¼ä¸º<code>null</code> , <code>void</code> , ç­‰äº0æˆ–è€…ç©ºåˆ™ä¸º<code>false</code> , å¦åˆ™ä¸º<code>true</code>ã€‚</p><p>æ›¿ä»£ä¸‹é¢çš„å†™æ³•ï¼š</p><pre><code class="language-Groovy">if (name != null &amp;&amp; name.length &gt; 0) {}
</code></pre><p>ä½ å¯ä»¥ä»…ä»…è¿™æ ·åšï¼š</p><pre><code class="language-Groovy">if (name) {}
</code></pre><p>é›†åˆä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>å› æ­¤ä½ å¯ä»¥åœ¨<code>while()</code> , <code>if()</code> , ä¸‰å…ƒè¿ç®—ç¬¦, Elvisè¡¨è¾¾å¼ç­‰é‡Œé¢ä½¿ç”¨ä¸€äº›ç®€çŸ­çš„è¡¨è¾¾ã€‚</p><p>ç”šè‡³äºï¼Œé€šè¿‡åœ¨ä½ çš„ç±»ä¸­æ·»åŠ ä¸€ä¸ªbooleanç±»å‹çš„<code>asBoolean()</code>æ–¹æ³•ï¼Œå»è‡ªå®šä¹‰Groovyçš„çœŸå€¼ï¼</p><h2 id="17-å®‰å…¨è§†å›¾å¯¼èˆª">17. å®‰å…¨è§†å›¾å¯¼èˆª</h2><p>Groovyæ”¯æŒå¯¹è±¡<code>.</code>æ“ä½œçš„å®‰å…¨å˜ä½“ã€‚</p><p>åœ¨Javaä¸­ï¼Œå½“ä½ å¯¹å¯¹è±¡ä¸­ä¸€ä¸ªå­å­—æ®µæ„Ÿå…´è¶£ï¼Œå¿…é¡»é€šè¿‡æ ¡éªŒ<code>null</code>æ¥é¿å…ç©ºæŒ‡é’ˆï¼Œæœ€åä¸å¾—ä¸ä¾¿æºå¤æ‚çš„<code>if</code>æˆ–è€…<code>if</code>åµŒå¥—ï¼š</p><pre><code class="language-Groovy">if (order != null) {
    if (order.getCustomer() != null) {
        if (order.getCustomer().getAddress() != null) {
            System.out.println(order.getCustomer().getAddress());
        }
    }
}
</code></pre><p>é€šè¿‡<code>?.</code>æ¥å®‰å…¨çš„è®¿é—®å­å¯¹è±¡ï¼Œä½ å¯ä»¥åƒå¦‚ä¸‹ä¸€æ ·ç®€åŒ–ä»£ç ï¼š</p><pre><code class="language-Groovy">println order?.customer?.address
</code></pre><p>åœ¨è°ƒç”¨é“¾ä¸­ï¼Œç©ºæŒ‡é’ˆå°†è¢«æ ¡éªŒï¼Œå¦‚æœæœ‰ä»»ä½•å…ƒç´ ä¸º<code>null</code>å°†ä¸ä¼šæœ‰<code>NullPointerException</code>å¼‚å¸¸æŠ›å‡ºã€‚å¦‚æœæœ‰æŸä¸ªå…ƒç´ ä¸º<code>null</code>ï¼Œåˆ™ç»“æœè¿”å›ä¸º<code>null</code>ã€‚</p><h2 id="18-assertæ–­è¨€">18. Assertæ–­è¨€</h2><p>ä½ å¯ä»¥ä½¿ç”¨<code>assert</code>è¯­å¥æ¥æ ¡éªŒä½ çš„å‚æ•°ã€è¿”å›å€¼æˆ–è€…æ›´å¤šåœºæ™¯ã€‚</p><p>è·ŸJavaçš„<code>assert</code>ç›¸åï¼Œ<code>assert</code>ä¸éœ€è¦è¢«æ¿€æ´»ä¾¿èƒ½å¤Ÿè¢«ä½¿ç”¨ï¼Œæ‰€ä»¥<code>assert</code>æ€»æ˜¯å¯ä»¥è¢«æ£€æŸ¥çš„ã€‚</p><pre><code class="language-Groovy">def check(String name) {
    // name non-null and non-empty according to Groovy Truth
    assert name
    // safe navigation + Groovy Truth to check
    assert name?.size() &gt; 3
}
</code></pre><p>ä½ è¿˜ä¼šæ³¨æ„åˆ° Groovy çš„â€œPower Assertâ€è¯­å¥æä¾›çš„è‰¯å¥½è¾“å‡ºï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªè¢«æ–­è¨€çš„å­è¡¨è¾¾å¼çš„å„ç§å€¼çš„å›¾å½¢è§†å›¾ã€‚</p><h2 id="19-ä½¿ç”¨elvisè¡¨è¾¾å¼å¤„ç†é»˜è®¤å€¼">19. ä½¿ç”¨Elvisè¡¨è¾¾å¼å¤„ç†é»˜è®¤å€¼</h2><p>Elvisæ˜¯ä¸€ä¸ªç”¨æ¥å¤„ç†é»˜è®¤å€¼çš„ç®€çŸ­çš„ä¸‰å…ƒè¡¨è¾¾å¼ã€‚</p><p>æˆ‘ä»¬é€šå¸¸è¿™æ ·å†™ä»£ç ï¼š</p><pre><code class="language-Groovy">def result = name != null ? name : &quot;Unknown&quot;
</code></pre><p>çœŸå¿ƒæ„Ÿè°¢Groovyï¼Œ<code>null</code>çš„æ£€æŸ¥å¯ä»¥ç®€çŸ­åˆ°åªæœ‰â€™nameâ€™ã€‚</p><p>æ›´è¿›ä¸€æ­¥ï¼Œæ—¢ç„¶ä½ æ— è®ºå¦‚ä½•éƒ½è¿”å› â€˜nameâ€™ï¼Œè€Œä¸æ˜¯åœ¨è¿™ä¸ªä¸‰å…ƒè¡¨è¾¾å¼ä¸­é‡å¤nameä¸¤æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨Elvisè¿ç®—ç¬¦ä»¥æŸç§æ–¹å¼åˆ é™¤é—®å·å’Œå†’å·ä¹‹é—´çš„å†…å®¹ï¼Œè¿™æ ·ä¸Šé¢å°±å˜æˆäº†ï¼š</p><pre><code class="language-Groovy">def result = name ?: &quot;Unknown&quot;
</code></pre><h2 id="20-catchä»»ä½•çš„å¼‚å¸¸">20. Catchä»»ä½•çš„å¼‚å¸¸</h2><p>å¦‚æœä½ ä¸æ˜¯çœŸçš„å¾ˆåœ¨æ„ä»£ç <code>try</code>å—ä¸­çš„å¼‚å¸¸çš„ç±»å‹ï¼Œä½ å¯ä»¥ç®€å•åœ°æ•è·å®ƒä»¬ä¸­çš„ä»»ä½•ä¸€ä¸ªå¹¶ç®€å•åœ°çœç•¥æ•è·çš„å¼‚å¸¸çš„ç±»å‹ã€‚æ‰€ä»¥æ›¿ä»£ä¸‹é¢çš„ä»£ç ï¼š</p><pre><code class="language-Groovy">try {
    // ...
} catch (Exception t) {
    // something bad happens
}
</code></pre><p>ä½¿ç”¨catch (â€˜anyâ€™ æˆ–è€… â€˜allâ€™, æˆ–è€…ä½ è®¤ä¸ºçš„ä»»ä½•å¼‚å¸¸)ï¼š</p><pre><code class="language-Groovy">try {
    // ...
} catch (any) {
    // something bad happens
}
</code></pre><table><thead><tr><th><br></th><th>è¯·æ³¨æ„ï¼Œå®ƒæ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œè€Œä¸æ˜¯ <code>Throwable</code>ã€‚å¦‚æœä½ éœ€è¦çœŸæ­£æ•æ‰â€œæ‰€æœ‰ä¸œè¥¿â€ï¼Œä½ å¿…é¡»æ˜ç¡®åœ°è¯´ä½ æƒ³æ•æ‰ <code>Throwable</code>ã€‚</th></tr></thead></table><h2 id="21-å¯¹å¯é€‰ç±»å‹çš„å»ºè®®">21. å¯¹å¯é€‰ç±»å‹çš„å»ºè®®</h2><p>æˆ‘å°†å®Œæˆä¸€äº›å…³äºæ€ä¹ˆç”¨å’Œä»€ä¹ˆæ—¶å€™ç”¨å¯é€‰ç±»å‹çš„å†…å®¹ã€‚Groovyè®©ä½ å†³å®šæ˜¯å¦å»ä½¿ç”¨å¼ºç±»å‹è¿˜æ˜¯<code>def</code>ã€‚</p><p>æˆ‘æœ‰ä¸€ä¸ªç›¸å½“ç®€å•çš„ç»éªŒæ³•åˆ™ï¼šæ¯å½“ä½ çš„ä»£ç è¢«å½“ä½œå…¬æœ‰APIä½¿ç”¨æ—¶ï¼Œä½ åº”è¯¥æ€»æ˜¯é’çä½¿ç”¨å¼ºç±»å‹ï¼Œè¿™å°†å¸®åŠ©ä½ ç¡®å®šæ›´å¥å£®çš„çº¦æŸï¼Œä»¥é¿å…å¯èƒ½é€šè¿‡é”™è¯¯çš„å‚æ•°ç±»å‹ï¼Œä¹Ÿèƒ½å¤Ÿæä¾›æ›´å¥½çš„æ–‡æ¡£ï¼Œè¿˜èƒ½å¸®åŠ©IDEå»è¿›è¡Œä»£ç è¡¥å…¨ã€‚æ¯å½“ä»£ç ä»…ä¾›ä½ è‡ªå·±ä½¿ç”¨æ—¶ï¼Œåƒç§æœ‰æ–¹æ³•ï¼Œæˆ–è€…å½“IDEå¯ä»¥è½»æ˜“æ¨æ–­ç±»å‹æ—¶ï¼Œä½ å°±å¯ä»¥æ›´è‡ªç”±åœ°å†³å®šä½•æ—¶ä½¿ç”¨å¯é€‰ç±»å‹ã€‚</p><hr><p>ğŸ”— åŸæ–‡é“¾æ¥ï¼š <a href="https://groovy-lang.org/style-guide.html">https://groovy-lang.org/style-guideâ€¦</a></p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on ä¹æœˆ 27, 2024</p><div class="post__share"></div></footer><nav class="pagination"><div class="pagination__title"><span>Read other posts</span></div><div class="pagination__buttons"><a href="https://jobslee0.github.io/fan-yi-groovyying-yong-ji-cheng.html" class="btn previous" rel="prev" aria-label="[MISSING TRANSLATION]:  ã€ç¿»è¯‘ã€‘Groovyåº”ç”¨é›†æˆ "><span class="btn__icon">â†</span> <span class="btn__text">ã€ç¿»è¯‘ã€‘Groovyåº”ç”¨é›†æˆ</span> </a><a href="https://jobslee0.github.io/fan-yi-groovyying-yong-ji-cheng.html" class="btn next" rel="next" aria-label="[MISSING TRANSLATION]:  ã€ç¿»è¯‘ã€‘Groovyåº”ç”¨é›†æˆ "><span class="btn__text">ã€ç¿»è¯‘ã€‘Groovyåº”ç”¨é›†æˆ</span> <span class="btn__icon">â†’</span></a></div></nav></article></main><footer class="footer"><div class="footer__inner"><div class="footer__copyright"><p>Â© 2024 Powered by Publii CMS :: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank" rel="noopener">Theme</a> ported by the <a href="https://getpublii.com/customization-service/" target="_blank" rel="noopener">Publii Team</a></p></div></div></footer></div><script defer="defer" src="https://jobslee0.github.io/assets/js/scripts.min.js?v=c2232aa7558e9517946129d2a1b8c770"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>